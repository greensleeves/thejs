var global=window||global;global.class_factory=function(b,a){var d=b[a][a],c=b[a],e=c.extend,f=c.our,g;if(f)for(g in f)d[g]=f[g];delete c.our;delete c.extend;delete c[a];d.prototype=c;d.prototype.constructor=d;if(e)for(c=e.length;c--;)extend(d,e[c]);b[a]=d};global.namespace=function(b,a){var d=b.split("."),c=d.length,e=0,f=global,g;for(e;e<c-1;e++)f[d[e]]=f[d[e]]||{},f=f[d[e]];if(void 0!==a.require)a.require.push(function(){for(g in a)class_factory(a,g),f[d[c-1]]=f[d[c-1]]||{},f[d[c-1]][g]=a[g]}),include.apply(global,a.require),delete a.require;else for(g in a)class_factory(a,g),f[d[c-1]]=f[d[c-1]]||{},f[d[c-1]][g]=a[g]};global.extend=function(b,a){var d=b.prototype,c,e=function(){};e.prototype=a.prototype;b.prototype=new e;b.prototype.constructor=b;for(c in d)b.prototype[c]=d[c];b.superclass=a.prototype};global.include=function(){var b=arguments,a=b.length-1;"function"==typeof b[a]&&include.data.funcs.push(b[a]);for(var d=0;d<a;d++)b=arguments[d],include.data.cache[b]||(include.data.start+=1,include.data.cache[b]=1,create_script(URL+b.replace(/\./ig,"/")+".js",include.data.callback,include.data.callback))};include.data={start:0,ready:0,funcs:[],cache:{}};
include.data.callback=function(){include.data.ready+=1;if(include.data.ready==include.data.start)for(var b=include.data.funcs.length,a;-1<(b-=1);)a=include.data.funcs.pop(),a()};function create_script(b,a,d){var c=document.getElementsByTagName("head")[0],e=document.createElement("script");e.type="text/javascript";e.src=b;e.done=!1;e.onload=e.onreadystatechange=function(){if(!e.done&&(!global.readyState||"loaded"===global.readyState||"complete"===global.readyState))e.done=!0,a(),e.onload=e.onreadystatechange=null};e.onerror=d;c.appendChild(e)};(function(){function b(){if(!b.onse){b.onse=!0;var a=document.getElementsByTagName("head")[0],c=document.createElement("script");c.type="text/javascript";c.src=URL+"index.js";a.appendChild(c)}}var a=document.getElementsByTagName("script"),a=a[a.length-1].src.split("?")[0];global.URL=a.split("/").slice(0,-1).join("/")+"/";b.onse=!1;document.addEventListener?document.addEventListener("DOMContentLoaded",b,!1):document.attachEvent&&document.attachEvent("onreadystatechange",b)})();
